public class CHC_MockCallouts implements HttpCalloutMock{
public HTTPResponse respond(HTTPRequest getTestHttpRequest) {
        // Create a fake response
        String reqBody = getTestHttpRequest.getBody();
        
        if((reqBody.contains('name="person"')) &&(reqBody.contains('op="search_hsi"'))){
            HttpResponse res = new HttpResponse();
            String httpBody='<?xml version=\'1.0\'?><RESULT sessionid="p_mirketa145c9f49ad0160fe7|45a4844933f7fcdf|435ff6ec3b2a9a00|42dff6ec3b2a9a00|"><OBJECT name="person" op="search_hsi"><date></date><insurance></insurance><country></country><isp_state></isp_state><providercaregiver></providercaregiver><address_1>US</address_1><formu_orgid></formu_orgid><address_2></address_2><birth_date>2/14/1999</birth_date><mother_name></mother_name><county></county><guarantor></guarantor><prim_cg_lname></prim_cg_lname><lab></lab><suffix></suffix><ter_isp_address_1></ter_isp_address_1><plan_identifier></plan_identifier><ssn>987654321</ssn><leadperson>3006836293</leadperson><sec_isp_city></sec_isp_city><sec_insurance></sec_insurance><sec_isp_state></sec_isp_state><ter_isp_hsi_value></ter_isp_hsi_value><work_phone_number></work_phone_number><bill_type></bill_type><lab_name></lab_name><hsi_value>0015300000GOh4dAAD</hsi_value><state></state><height></height><zip>99999</zip><placer_order_number></placer_order_number><record_date></record_date><transmission_mode></transmission_mode> <weight></weight><work_phone_ext></work_phone_ext><ter_isp_name></ter_isp_name><ownerid></ownerid><person_hsi>3006909122</person_hsi><payer_identifier></payer_identifier><isp_hsi_value></isp_hsi_value><person>3006836293</person><prim_cg_mname></prim_cg_mname><last_name_soundex>TAJN</last_name_soundex><status></status><sec_isp_hsi_value></sec_isp_hsi_value><ter_isp_city></ter_isp_city><sec_isp_address_1></sec_isp_address_1><age_type></age_type><work_phone_area_code></work_phone_area_code><city>NULL</city><hsilabel></hsilabel><sec_isp_zip></sec_isp_zip><prim_cg_fname></prim_cg_fname><title></title><name_prefix></name_prefix><fav_pharm_name></fav_pharm_name><isp_city></isp_city><ter_insurance></ter_insurance><home_phone_number>6543210</home_phone_number><isp_address_1></isp_address_1><clearance></clearance><first_name>Himanshu</first_name><label_name>PAN</label_name><ter_isp_state></ter_isp_state><is_active>Y</is_active><soundex_flag></soundex_flag><primarycaregiver></primarycaregiver><formu_groupid></formu_groupid><sex>M</sex><last_name>Tajne</last_name><isp_zip></isp_zip><middle_name>K</middle_name><ter_isp_zip></ter_isp_zip><isp_name></isp_name><allergy_status></allergy_status><favorite_pharmacy></favorite_pharmacy><organization></organization><home_phone_area_code>987</home_phone_area_code><sec_isp_name></sec_isp_name><mothers_maiden_name></mothers_maiden_name><age></age></OBJECT></RESULT>';
            res.setHeader('Content-Type', 'application/x-www-form-urlencoded');
            res.setBody(httpBody);
            res.setStatus('OK');
            res.setStatusCode(200);
            return res;
        }
                
        else if((reqBody.contains('name="rx"')) &&(reqBody.contains('op="search_patient_history_api"'))){
            HttpResponse res = new HttpResponse();
            String httpBody='<?xml version=\'1.0\'?><RESULT sessionid="p_mirketaclc45b88f5db6494463|457a28c4f8e2a0f7|435ff6d067a8ee80|42dff6d067a8ee80|"><OBJECT name="rx" op="search_patient_history_api"><drug_id>559503</drug_id><ph_is_epcs_capable>Y</ph_is_epcs_capable>         <rx_cancel_type></rx_cancel_type>         <change_type></change_type>         <pharmacist_name></pharmacist_name>         <pharmacist_comments></pharmacist_comments>         <denial_reason></denial_reason>         <modified_by_dur></modified_by_dur>         <created_by_username>mir_aapple</created_by_username>         <generic_code></generic_code>         <ph_address_1>6798 Pyle Rd</ph_address_1>         <original_txn_detail></original_txn_detail>         <original_date_written></original_date_written>         <ph_address_2></ph_address_2>         <pharmacy_discount></pharmacy_discount>         <thru_date>12/17/2022  6:16 AM</thru_date>         <creation_date>10/14/2022  6:19 AM</creation_date>         <days_supply>1</days_supply>         <ownerid>3004423326</ownerid>         <rx_type>NEW</rx_type>         <formulary_status></formulary_status>         <ph_state>MD</ph_state>         <original_refills></original_refills>         <patient_height_uom></patient_height_uom>         <transmission_error_msg></transmission_error_msg>         <epa_status></epa_status>         <curr_date>11/9/2022 10:25 PM</curr_date>         <refill_trace_num></refill_trace_num>         <cg_npi>1528251113</cg_npi>         <patient_weight_date></patient_weight_date>         <rx>3005810238</rx>         <units_of_measure>C48480</units_of_measure>         <rx_status>AUTHORIZED</rx_status>         <rxcui></rxcui>         <patient_fname>Himanshu</patient_fname>         <refills>56</refills>         <patient_weight></patient_weight>         <is_compound></is_compound>         <clearance>10</clearance>         <auth_denied_by>3004423331</auth_denied_by>         <patient_phone>9876543210</patient_phone>         <ph_zip>20817</ph_zip>         <originalrx></originalrx>         <icd_9_cm_code></icd_9_cm_code>         <patient_pbm_senderid></patient_pbm_senderid>         <ndc></ndc>         <patient_sex>M</patient_sex>         <dea_code>0</dea_code>         <pharmacy_id>2122548</pharmacy_id>         <organization>3004423326</organization>         <patient_mname>K</patient_mname>         <patient_suffix></patient_suffix>         <digital_sig></digital_sig>         <cg_is_epcs_enabled>N</cg_is_epcs_enabled>         <refill_rx_num></refill_rx_num>         <rxchange></rxchange>         <patient_lname>Tajne</patient_lname>         <is_compound_cs></is_compound_cs>         <modified_by_formulary></modified_by_formulary>         <created_by_name></created_by_name>         <ph_is_active>Y</ph_is_active>         <auth_denied_date>10/21/2022  6:16 AM</auth_denied_date>         <prescriber_name>Apple, Anna</prescriber_name>         <patient_pbm_unique_id></patient_pbm_unique_id>         <pharmacy_patient_id></pharmacy_patient_id>         <transmission_date>10/21/2022  6:16 AM</transmission_date>         <daw></daw>         <icd_10_cm_code></icd_10_cm_code>         <drug_name>Acai Weight Control 500 mg-100 mcg capsule</drug_name>         <patient_dob>2/13/1999</patient_dob>         <print_pending></print_pending>         <drug_label_name></drug_label_name>         <cg_lname>Apple</cg_lname>         <history></history>         <modified_date>10/21/2022 06:16:35.041398000AM</modified_date>         <supervising_prescriber>12407</supervising_prescriber>         <created_by>3004423327</created_by>         <patient_height></patient_height>         <person>3006836293</person>         <patient_height_date></patient_height_date>         <patient_city>Null</patient_city>         <patient_zip>99999</patient_zip>         <earliest_fill_date></earliest_fill_date>         <ph_city>Bethesda</ph_city>         <patient_state>NU</patient_state>         <refill_request_priority></refill_request_priority>         <appuser></appuser>         <sig>once daily</sig>         <cg_suffix></cg_suffix>         <ph_name>Bannockburn Pharmacy</ph_name>         <epa_refid></epa_refid>         <last_fill_date></last_fill_date>         <refill_txn_init_date></refill_txn_init_date>         <cg_mname></cg_mname>         <cg_title>Dr.</cg_title>         <patient_weight_uom></patient_weight_uom>         <prescriber>12407</prescriber>         <comments></comments>         <quantity>10</quantity>         <ph_phone></ph_phone>         <transmittal_status>ERROR</transmittal_status>         <included_in_log>N</included_in_log><refill_send_dntf></refill_send_dntf><last_modified_by>3004423331</last_modified_by><cg_dea_number>NL0161074</cg_dea_number><patient_address_2></patient_address_2><auth_denied_by_name></auth_denied_by_name><patient_address_1>Null</patient_address_1><cg_fname>Anna</cg_fname><patient_hsi_value>0015300000GOh4dAAD</patient_hsi_value><prior_auth_number></prior_auth_number><denied></denied><rx_issue_type>ELECTRONIC</rx_issue_type></OBJECT> </RESULT>';        
                res.setHeader('Content-Type', 'application/x-www-form-urlencoded');
            res.setBody(httpBody);
            res.setStatus('OK');
            res.setStatusCode(200);
            return res;
        }
    return null;
}
}